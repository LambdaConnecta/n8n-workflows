{
  "name": "LambdaConnecta AI Marketing & Sales Agent",
  "nodes": [
    {
      "id": "trigger_lead",
      "type": "n8n-nodes-base.webhook",
      "name": "Lead Capture Webhook",
      "parameters": {
        "path": "lead-capture",
        "method": "POST"
      }
    },
    {
      "id": "chatgpt_qualification",
      "type": "n8n-nodes-base.chatGPT",
      "name": "Lead Qualification AI",
      "parameters": {
        "prompt": "You are LambdaConnecta, an AI sales assistant. A lead has submitted the following info:\nName: {{lead_name}}\nCompany: {{company}}\nEmail: {{email}}\nPhone: {{phone}}\nMessage/Interest: {{lead_message}}\n\nPlease:\n1. Score the lead as Hot, Warm, or Cold based on urgency, budget, and fit.\n2. Summarize key points in 2-3 sentences.\n3. Suggest the best next step (schedule call, send info, nurture).\n\nReturn output as JSON: {\n  \"score\": \"\",\n  \"summary\": \"\",\n  \"next_step\": \"\"\n}"      },
      "connections": {
        "main": [
          [
            {
              "node": "branch_lead_score",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    {
      "id": "branch_lead_score",
      "type": "n8n-nodes-base.if",
      "name": "Branch by Lead Score",
      "parameters": {
        "conditions": {
          "boolean": [],
          "number": [],
          "string": [
            {
              "value1": "={{$json[\"score\"]}}",
              "operation": "equals",
              "value2": "Hot"
            }
          ]
        }
      },
      "connections": {
        "true": [
          [
            {
              "node": "send_email",
              "type": "main",
              "index": 0
            },
            {
              "node": "send_sms",
              "type": "main",
              "index": 1
            },
            {
              "node": "update_crm",
              "type": "main",
              "index": 2
            }
          ]
        ],
        "false": [
          [
            {
              "node": "send_nurture_email",
              "type": "main",
              "index": 0
            },
            {
              "node": "update_crm",
              "type": "main",
              "index": 1
            }
          ]
        ]
      }
    },
    {
      "id": "send_email",
      "type": "n8n-nodes-base.emailSend",
      "name": "Send Personalized Email",
      "parameters": {
        "toEmail": "={{$json[\"email\"]}}",
        "subject": "Boost Your [Metric] with [Company]",
        "text": "Hi {{$json[\"lead_name\"]}},\n\nI noticed your interest in {{$json[\"lead_message\"]}}. Here’s how we can help you achieve [Benefit].\n\nSchedule a call here: [link]"
      }
    },
    {
      "id": "send_sms",
      "type": "n8n-nodes-base.twilio",
      "name": "Send SMS",
      "parameters": {
        "to": "={{$json[\"phone\"]}}",
        "message": "Hi {{$json[\"lead_name\"]}}, MarkoAI here. Are you ready to explore how [product/service] can help [pain point]? Schedule here: [link]"
      }
    },
    {
      "id": "send_nurture_email",
      "type": "n8n-nodes-base.emailSend",
      "name": "Send Nurture Email",
      "parameters": {
        "toEmail": "={{$json[\"email\"]}}",
        "subject": "Learn More About [Product/Service]",
        "text": "Hi {{$json[\"lead_name\"]}},\n\nThanks for your interest in [Product/Service]. Here’s some info to help you explore further: [link]"
      }
    },
    {
      "id": "update_crm",
      "type": "n8n-nodes-base.hubspot",
      "name": "Update CRM",
      "parameters": {
        "operation": "createOrUpdateContact",
        "email": "={{$json[\"email\"]}}",
        "properties": {
          "firstname": "={{$json[\"lead_name\"]}}",
          "company": "={{$json[\"company\"]}}",
          "lead_score": "={{$json[\"score\"]}}",
          "notes": "={{$json[\"summary\"]}}"
        }
      }
    }
  ]
}
